<!DOCTYPE HTML>
<html>
	<head>
		<title>Emu Labs</title>
		<link rel="stylesheet" type="text/css" href="./../main.css" />
	</head>

	<body>

		<!-- Main Header -->
		<div class="header">

			<!-- Left Header -->
			<div class="header_left">
				<div class="header_text"><strong>Emu Labs</strong></div>
			</div>
		
			<!-- Right Header -->
			<div class="header_right">
				<a class="header_link" href="../downloads.html">Downloads</a>
				<a class="header_link_current" href="../articles.html">Articles</a>
				<a class="header_link" href="../blog.html">Blog</a>
				<a class="header_link" href="../index.html">Main</a>
			</div>

		</div>

		<!-- Main Page Outer Box -->
		<div class="box_outer">
			
			<!-- Main Page Inner Box -->
			<div class="box_inner">

				<div class="center_headline">2D Custom Graphics: A Working Theory for Emulators</div>
				<div class="headline_underline">. . . . . . . . . . .</div>

				<p class="inner_text_large"><strong>Custom Graphics: Art History 102</strong>

				<p class="inner_text">Custom Graphics, or what this article will refer to as <strong>CGFX</strong>, are custom art assets that the user provides to an emulator. The emulator, in turn, replaces the game&#39;s native graphics with the ones from the user. Previously this type of enhancement was solely the domain of emulators for 3D consoles. On the N64 for example, people can replace the original textures of a game with high definition versions of their own. Project64 and Mupen64 allow this functionality. More recently, the Dolphin emulator has popularized custom textures for Gamecube and Wii games. However, for 2D, tile-based systems such as the SNES or Sega Genesis, there is currently nothing equivalent, and only for a few other systems has <strong>CGFX</strong> been attempted. This document will explain a new method that can be effectively used across many systems, from the NES, Game Boy and beyond.</p>

				<p class="inner_text">Before digging into that, it is important to understand why <strong>CGFX</strong> for 2D consoles has lagged, in both research and actual application. As this article later demonstrates, the task is simply non-trivial. It requires a lot of forethought when designing an emulator, a deep understanding of a console&#39;s graphics system, and even delves into some moderately fancy color math (e.g. blending, adjusting brightness, and calculating hues). Whereas replacing a texture on a 3D console may be straightforward from a programming point of view, 2D graphics pose an inherent challenge. Most 2D consoles store graphics in a tile-based format rather than a bitmap format. These tiles are often paletted as well. Without delving too much into specifics, tile formats simply add a lot more factors an emulator must consider compared to textures.</p>

				<p class="inner_text">Progress has been slow. Perhaps the first emulator to achieve <strong>CGFX</strong> was <a href="http://hisms.orgfree.com/">HiSMS</a>, a Sega Master System emulator by Botrops that specialized in replacing sprites and background tiles with HD versions. It allowed 8x8 pixel tiles to be replaced with 32x32 pixel tiles. Although there was only one release, it marked the first time something like that was done for emulators of 2D consoles. Unfortunately, HiSMS has long since been abandoned by the author. At the very least, however, it serves as a testament to the beginnings of <strong>CGFX</strong>. Things remained quiet for several years until another intrepid programmer Tim Foley aka tangent vector <a href="https://tangentvector.wordpress.com/2011/10/20/emulating-classic-2d-games-in-hd/">decided to try his hand at the Game Boy</a>. Through some trials, he was able to successfully create <a href="https://github.com/tangent-vector/gbhd">gbhd</a>. His work signaled yet another step towards getting functional <strong>CGFX</strong> for emulators. However, like HiSMS, gbhd never saw much further development</p>

				<p class="inner_text">Fast forward a couple of years, and the likes of <a href="https://github.com/mkwong98/HDNes">HDNES</a> by mkwong98 first appeared around 2013. Like other emulators of its calibur, it successfully replaced graphics, this time for the NES. HDNES is notable for being extensively developed and tested. A great deal of high definition graphics were made for the emulator. As a bonus, HDNES allows user to modify a game&#39s music as well. HDNES became one of the most prominent examples of <strong>CGFX</strong> in 2D console emulators as a result of how polished it was. Around this time as well, my fledging emulator known back then as GB Enhanced (GBE) also began supporting <strong>CGFX</strong> for Game Boy games. Eventually, its successor, GB Enhanced+ (GBE+) became the first emulator to apply <strong>CGFX</strong> to Game Boy Color games. At the time, my work was independent from gbhd (I had no idea Tim Foley had explored this area of emulation before until after I published an article about it back in 2013). What started off as an innocent suggestion from someone on the Dolphin emulator forums eventually evolved into something more. I will not make any grand claims on how GBE or GBE+ affected the course of <strong>CGFX</strong> in emulators, but I will say it laid the foundations of this theory and this article. Most of this work is based on the trials I overcame to get <strong>CGFX</strong> in working order. I&#39;ll let others decide how or if I managed to alter the history of emulation in any way.</p>

				<p class="inner_text">Having said all of this, the current state of <strong>CGFX</strong> is not looking well. HiSMS, gbhd, and even recently HDNES have all been inactive for some time. As far as it can be determined, GBE+ is the only emulator that is frequenctly updated. The work below will help others understand what I believe is a method that can universally allow <strong>CGFX</strong> in other emulators for 2D tile-based consoles, regardless of how different the actual systems are. In this way others can reasonably implement <strong>CGFX</strong> in their emulators if they choose to do so.</p>

			</div>
		</div>

	</body>
</html>

		

		